# 2.1.3 HTTP 1.1 gleichzeitige Anfragen


Eine
 Webseite besteht also aus vielen Elementen, die alle vom Server geladen
 werden müssen. In der Grafik kann sehr gut erkannt werden, was der 
Aufruf einer Internetseite bewirkt. 



[![Http-persistent.png](2.1.3%20HTTP%201.1%20gleichzeitige%20Anfragen-Dateien/Http-persistent.png)](https://isp.eduloop.de/mediawiki/images/isp.eduloop.de/0/0b/Http-persistent.png) Abb. 12: Reihenfolge
 der Übertragung einzelner Elemente einer Webseite. Erstellt mit 
Firebug, da so die Funktionsweise sehr gut sichtbar wird.
* Zuerst wird das angeforderte (HTML-)Dokument übertragen (1. Zeile; 467 ms).
* Erst nach der Übertragung der ersten Seite kann der Browser die in 
der Seite enthaltenen URLs auswerten und anfordern (CSS-Dateien, 
JS-Dateien, Abbildungen).
* Anschließend wird die Stylesheet-Datei angefordert (2. Zeile 62 ms), da dies die erste URL auf der Webseite ist.
* Anschließend werden **sechs Verbindungen geöffnet** und die 
Dateien der Zeilen 3 - 8 geladen. Immer wenn von diesen 6 Verbindungen 
zum Server eine Verbindung das Element ausgeliefert hat, wird direkt das
 nächste Element angefordert (nachdem Zeile 3 (106 ms) fertig ist, 
beginnt beispielsweise die Anfrage in Zeile 9 (146 ms)).


Ein Browser kann (je nach Betriebssystem und Browser) einige 
gleichzeitige Verbindungen zu einer Domain öffnen. Im oben gezeigten 
Beispiel sind dies 6 Verbindungen, die persistent aufrecht erhalten 
werden, bis alle Abfragen von dem Server geladen sind. Daher hat es sich
 bei HTTP/1.1 bewährt, dass Bilder auf einer anderen (Sub-)Domain 
gespeichert werden, sodass 6 Verbindungen zu der eigentlichen Domain 
(z.B. www.thomaschewski.de) und 6 Verbindungen zu der "Bilddomain" (z.B.
 pics.thomaschewski.de) geöffnet werden und die Übertragungszeit 
hierdurch verringert wird. Dieses "Verfahren" wird auch als **Sharding** bezeichnet.




HinweisEs
 gibt noch weitere Workarrounds, um die Übertragung komplexer Webseiten 
zu beschleunigen, auf die hier nicht weiter eingegangen wird. Wer mag, 
kann ja im Internet nach folgenden Stichworten suchen: Spriting, 
Inlining und Konkatenation



Wir werden im Kapitel [https://isp.eduloop.de/loop/HTTP_2](HTTP2.md) sehen, dass HTTP/2 anders arbeitet.